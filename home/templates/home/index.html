{% extends "base.html" %}
{% load static %}

<!--Displayed at the end of the title. Used to make the title dynamic-->
{% block title %} Home {% endblock title %}

{% block head_extras %}
<link rel="preload" as="image" href="{% static 'images/hero.webp'%}">
{% endblock head_extras %}

<!--The content-->
{% block content %}

<!--Hero + title section-->
<section>
    <!-- This will be an image later-->
    <div class="h-32 bg-cyan-400 hero"></div>
    <div class="relative bottom-16">
        <!--Logo will be placed inside later-->
        <div
            class="logo-home border-8 border-cyan-100 dark:border-gray-950 rounded-full h-32 w-32 bg-cyan-400 m-auto border-solid">
        </div>
        <h1 class="text-center font-bold underline text-2xl mt-2 text-black dark:text-white">The Harbor Hearth</h1>
        <h2 class="text-center text-xl text-black dark:text-white">Set sail for deliciousness</h2>
        <p class="text-center my-2 mx-4">At the Harbour Hearth you can always be sure you'll have a warm meal, whether
            you're back from a boat trip or just passing by.</p>
    </div>
</section>
<hr class="border-b-2 border-slate-900 my-4 dark:border-slate-200 lg max-w-screen-md md:mx-auto sm:mx-4">
<!--Menu section-->
<!--This section will not exceed the width of a medium screen. m-auto centers it-->
<section class="max-w-screen-md m-auto px-3">
    <!--Menu title. Not clickable-->
    <h2 class="font-bold text-2xl text-black dark:text-white text-center mb-4">Menu</h2>
    <!--list of tab buttons to toggle between displaying the meals, drinks and desserts. data-tabs-active-classes adds styling to active classes-->
    <ul class="menu-list" id="default-tab" data-tabs-toggle="#default-tab-content" role="tablist"
        data-tabs-active-classes="text-black dark:text-white underline"
        data-tabs-inactive-classes="text-black dark:text-white no-underline">
        <!--Each li item apart of this list below here is a button for changign the menu displayed-->
        <!--data-tabs-target targets the div with the specified id. This applies to all list items below-->
        <li class="flex" role="presentation">
            <button class="self-center w-full text-center" id="meals-tab" data-tabs-target="#meals" type="button"
                role="tab" aria-label="Meals tab in the menu section">
                Meals
            </button>
        </li>
        <li class="flex" role="presentation">
            <button class="self-center w-full text-center" id="drinks-tab" data-tabs-target="#drinks" type="button"
                role="tab" aria-label="Meals tab in the menu section">
                Drinks
            </button>
        </li>
        <li class="flex" role="presentation">
            <button class="self-center w-full text-center" id="dessert-tab" data-tabs-target="#dessert" type="button"
                role="tab" aria-label="Meals tab in the menu section">
                Dessert
            </button>
        </li>
    </ul>
    <!--The content that will be displayed based on the tab selected-->
    <div id="default-tab-content">
        <!--Each meal in the database is listed here-->
        <div id="meals" role="tabpanel" class="hidden" aria-labelledby="meals-tab">
            {% for item in meals %}
            <div>
                <hr class="border-b-2 my-4 lg border-slate-700 dark:border-slate-400">
                <h2 class="font-bold text-lg text-black dark:text-white"> {{ item.name }} | {{ item.price }}£</h2>
                <p> {{ item.description }}</p>
                <p> ingridients: {{ item.ingridients }} </p>

                <ul class="flex flex-wrap">
                    <!-- If Item is vegan, display a green label with the text "Vegan"-->
                    {% if item.vegan == True %}
                    <li class="bg-lime-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Vegan</li>
                    {% endif %}
                    <!-- If Item contains nuts, display a red label with the text "Nuts"-->
                    {% if item.nuts == True %}
                    <li class="bg-red-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Nuts</li>
                    {% endif %}
                    <!-- If Item contains lactose, display a red label with the text "Lactose"-->
                    {% if item.lactose == True %}
                    <li class="bg-red-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Lactose</li>
                    {% endif %}
                    <!-- If Item contains Gluten, display a red label with the text "Gluten"-->
                    {% if item.gluten == True %}
                    <li class="bg-red-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Gluten</li>
                    {% endif %}
                    <!-- If Item contains eggs, display a red label with the text "Eggs"-->
                    {% if item.eggs == True %}
                    <li class="bg-red-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Eggs</li>
                    {% endif %}
                </ul>
            </div>
            {% endfor %}
        </div>
        <!--Each drink in the database is listed here-->
        <div id="drinks" role="tabpanel" class="hidden" aria-labelledby="drinks-tab">
            {% for item in drinks %}
            <hr class="border-b-2 my-4 lg border-slate-700 dark:border-slate-400">
            <h2 class="font-bold text-lg text-black dark:text-white"> {{ item.name }} | {{ item.price }}£ </h2>
            <p> {{ item.description }} </p>
            <p> ingridients: {{ item.ingridients }} </p>
            <ul class="flex flex-wrap">
                <!-- If Item is vegan, display a green label with the text "Vegan"-->
                {% if item.vegan == True %}
                <li class="bg-lime-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Vegan</li>
                {% endif %}
                <!-- If Item contains nuts, display a red label with the text "Nuts"-->
                {% if item.nuts == True %}
                <li class="bg-red-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Nuts</li>
                {% endif %}
                <!-- If Item contains lactose, display a red label with the text "Lactose"-->
                {% if item.lactose == True %}
                <li class="bg-red-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Lactose</li>
                {% endif %}
                <!-- If Item contains Gluten, display a red label with the text "Gluten"-->
                {% if item.gluten == True %}
                <li class="bg-red-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Gluten</li>
                {% endif %}
                <!-- If Item contains eggs, display a red label with the text "Eggs"-->
                {% if item.eggs == True %}
                <li class="bg-red-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Eggs</li>
                {% endif %}
            </ul>
            {% endfor %}
        </div>
        <!--Each dessert in the database is listed here-->
        <div id="dessert" role="tabpanel" class="hidden" aria-labelledby="dessert-tab">
            {% for item in desserts %}
            <hr class="border-b-2 my-4 lg border-slate-700 dark:border-slate-400">
            <h2 class="font-bold text-lg text-black dark:text-white"> {{ item.name }} | {{ item.price }}£</h2>
            <p> {{ item.description }} </p>
            <p> ingridients: {{ item.ingridients }} </p>
            <ul class="flex flex-wrap">
                <!-- If Item is vegan, display a green label with the text "Vegan"-->
                {% if item.vegan == True %}
                <li class="bg-lime-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Vegan</li>
                {% endif %}
                <!-- If Item contains nuts, display a red label with the text "Nuts"-->
                {% if item.nuts == True %}
                <li class="bg-red-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Nuts</li>
                {% endif %}
                <!-- If Item contains lactose, display a red label with the text "Lactose"-->
                {% if item.lactose == True %}
                <li class="bg-red-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Lactose</li>
                {% endif %}
                <!-- If Item contains Gluten, display a red label with the text "Gluten"-->
                {% if item.gluten == True %}
                <li class="bg-red-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Gluten</li>
                {% endif %}
                <!-- If Item contains eggs, display a red label with the text "Eggs"-->
                {% if item.eggs == True %}
                <li class="bg-red-500 py-2 px-4 my-2 mx-1 rounded-full text-black">Eggs</li>
                {% endif %}
            </ul>
            {% endfor %}
        </div>
    </div>
</section>
<!--Divider-->
<hr class="border-b-2 border-slate-900 my-4 dark:border-slate-200 lg max-w-screen-md md:mx-auto sm:mx-4">
<!--Reviews section-->
<section class="my-8">
    <!--headline-->
    <h1 class="text-center font-bold underline text-2xl mt-2 text-black dark:text-white">Don't just take our word for it
    </h1>
    <h2 class="text-center text-xl text-black dark:text-white">See what others are thinking</h2>
    <!--Flowbite carousel. See documentation linked in readme-->
    <div id="reviews-carousel" class="relative max-w-screen-md m-auto" data-carousel="static">
        <!-- Carousel wrapper -->
        <div
            class="relative h-80 md:h-72 overflow-hidden rounded-lg m-5 md:mx-20 bg-white border-solid border-black border-2 dark:bg-gray-900">
            <!--For each featured review a new carousel item will be made-->
            {% for review in reviews %}
            <!--The text will fade when it gets too long to make some contrast between text and buttons on mobile-->
            <div class="hidden duration-700 ease-in-out p-5 bg-gradient-to-t from-gray-300 to-slate-900 dark:from-gray-900 dark:to-slate-300 from-20% to-40% bg-clip-text text-transparent"
                data-carousel-item>
                <div>
                    <h2 class="font-bold text-xl text-black dark:text-white"> {{review.title}} </h2>
                    <!--A string is generated based on the number in review.rating to be iterated over as review.rating is an int
                    and int is not iterable-->
                    {% for star in "x"|rjust:review.rating %}
                    <span class="text-yellow-400"><i class="fa-solid fa-star"></i></span>
                    {% endfor %}
                    <p class="text-black dark:text-white"> {{review.author}} wrote: </p>
                    <p> {{review.content}} </p>
                    <!--Make this a working link later-->
                    <a href="{% url 'review_detail' review.url %}"
                        class="absolute bottom-0 left-0 right-0 block w-full text-center mb-4 text-black dark:text-white hover:scale-110 transition-all cursor-pointer">
                        Read more</a>
                </div>
            </div>
            {% endfor %}
        </div>
        <!-- Slider controls -->
        <!--Previous button-->
        <button type="button"
            class="absolute top-0 start-0 z-30 flex items-end md:items-center md:justify-center h-full px-4 cursor-pointer group focus:outline-none"
            data-carousel-prev>
            <span
                class="inline-flex items-center justify-center w-10 h-10 rounded-full md:bg-white md:border-solid md:border-black border-2 md:dark:bg-gray-900 sm:bg-none sm:border-none">
                <i class="fa-solid fa-arrow-left"></i>
                <span class="sr-only">Previous</span>
            </span>
        </button>
        <!--Next button-->
        <button type="button"
            class="absolute top-0 end-0 z-30 flex items-end md:items-center md:justify-center h-full px-4 cursor-pointer group focus:outline-none"
            data-carousel-next>
            <span
                class="inline-flex items-center justify-center w-10 h-10 rounded-full md:bg-white md:border-solid md:border-black border-2 md:dark:bg-gray-900 sm:bg-none sm:border-none ">
                <i class="fa-solid fa-arrow-right"></i>
                <span class="sr-only">Next</span>
            </span>
        </button>
    </div>
</section>

<hr class="border-b-2 border-slate-900 my-4 dark:border-slate-200 lg max-w-screen-md md:mx-auto sm:mx-4">
<!--News section-->
<section class="my-8">
    <!--headline-->
    <h1 class="text-center font-bold underline text-2xl mt-2 text-black dark:text-white">See what's new
    </h1>
    <!--Flowbite carousel. See documentation linked in readme-->
    <div id="news-carousel" class="relative max-w-screen-md m-auto" data-carousel="static">
        <!-- Carousel wrapper -->
        <div
            class="relative h-80 md:h-72 overflow-hidden rounded-lg m-5 md:mx-20 bg-white border-solid border-black border-2 dark:bg-gray-900">
            <!--For each featured review a new carousel item will be made-->
            {% for post in posts %}
            <!--The text will fade when it gets too long to make some contrast between text and buttons on mobile-->
            <div class="hidden duration-700 ease-in-out p-5 bg-gradient-to-t from-gray-300 to-slate-900 dark:from-gray-900 dark:to-slate-300 from-20% to-40% bg-clip-text text-transparent"
                data-carousel-item>
                <div>
                    <h2 class="font-bold text-xl text-black dark:text-white"> {{post.title}} </h2>
                    {{post.content|safe}}
                    <!--Make this a working link later-->
                    <a href="{% url 'blog_detail' post.url %}"
                        class="absolute bottom-0 left-0 right-0 block w-full text-center mb-4 text-black dark:text-white hover:scale-110 transition-all">
                        Read more
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
        <!-- Slider controls -->
        <!--Previous button-->
        <button type="button"
            class="absolute top-0 start-0 z-30 flex items-end md:items-center md:justify-center h-full px-4 cursor-pointer group focus:outline-none"
            data-carousel-prev>
            <span
                class="inline-flex items-center justify-center w-10 h-10 rounded-full md:bg-white md:border-solid md:border-black border-2 md:dark:bg-gray-900 sm:bg-none sm:border-none">
                <i class="fa-solid fa-arrow-left"></i>
                <span class="sr-only">Previous</span>
            </span>
        </button>
        <!--Next button-->
        <button type="button"
            class="absolute top-0 end-0 z-30 flex items-end md:items-center md:justify-center h-full px-4 cursor-pointer group focus:outline-none"
            data-carousel-next>
            <span
                class="inline-flex items-center justify-center w-10 h-10 rounded-full md:bg-white md:border-solid md:border-black border-2 md:dark:bg-gray-900 sm:bg-none sm:border-none">
                <i class="fa-solid fa-arrow-right"></i>
                <span class="sr-only">Next</span>
            </span>
        </button>
    </div>
</section>
{% endblock content %}